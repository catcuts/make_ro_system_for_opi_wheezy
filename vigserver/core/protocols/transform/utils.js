/*ã€€China Fujian Huanyutong Technology Co., Ltd. */
const{cloneJson:cloneJson}=require("utils/jsonfuncs");function generateReverseRule(e){if("object"==typeof e){e.__reverse={};for(let t in e){let r=e[t];"__reverse"!==t&&"object"==typeof r&&void 0!==r.to&&(e.__reverse[r.to]=t)}}}function generateAllReverseRules(e){for(let t in e)generateReverseRule(e[t])}function convertVimpAnswerCodeToVamp(e){let t=String(e);return 10*parseInt(t.charAt(0))+parseInt(t.charAt(2))}function getRuleItem(e,t=[],r={}){let s=e;for(let e of t)if("object"==typeof s&&e in s&&(s=s[e],e===t[t.length-1]))return s;return r}function getPayloadRulesParams(e,t,r,s){let l=[];return l.push(getRuleItem(e,[t,"common",s])),l.push(getRuleItem(e,[t,r,s])),l.push(getRuleItem(e,[t,"__fixed__"])),l}function getPayloadRuleByMessage(e,t,r,s){let[l,n]=getPayloadRulesParams(e,t,r,s);return Object.assign(cloneJson(l),cloneJson(n))}function getAttrsPayloadRulesParams(e,t){let r=[];return r.push(getRuleItem(e,["Attrs","common"])),r.push(getRuleItem(e,["Attrs",t])),r.push(getRuleItem(e,["Attrs","__fixed__"])),r}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}module.exports={convertVimpAnswerCodeToVamp:convertVimpAnswerCodeToVamp,generateReverseRule:generateReverseRule,generateAllReverseRules:generateAllReverseRules,getPayloadRulesParams:getPayloadRulesParams,getAttrsPayloadRulesParams:getAttrsPayloadRulesParams,getRuleItem:getRuleItem,isNumber:isNumber,getPayloadRuleByMessage:getPayloadRuleByMessage};