{"version":3,"sources":["0"],"names":["ELFHash","require","DocumentRecord","assert","cloneJson","TransactionStorageName","generateTid","VIGateway","sn","Date","getTime","parseInt","Math","random","TransactionStatus","Unloaded","Initial","Progressing","Pause","End","Timeout","Abort","Ignore","Error","Transaction","[object Object]","options","super","this","storageName","storagePrimaryKey","attrs","id","name","source","description","type","status","createTime","nodes","Object","assign","maxLife","timeout","tid","undefined","load","e","query","loadByQuery","doc","VIGStorage","getDocument","insert","updated","update","$set","returnUpdatedDocs","length","_","params","logger","error","updateTime","actor","message","trigger","direction","progress","result","push","datetime","save","last","first","summary","endTime","remove","TransactionManager","transaction","find","record","findOne","tobj","throttle","getTransaction","$lte","triggerEventTransaction","eventCodes","events","includes","split","payload","code","module","exports"],"mappings":"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"}