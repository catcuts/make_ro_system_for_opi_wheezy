{"version":3,"sources":["0"],"names":["UglifyJS","require","path","fs","VIGConst","walk","updateYamlFile","async","YAWN","deepMerge","copyDir","crypto","md5File","os","addVersion","DevicesYAML","join","DataRootFolder","updateDeviceInitAttrs","targetFile","query","attrs","yawn","readFileSync","encoding","deviceRecords","json","records","record","result","key","writeFileSync","yaml","e","this","log","JSON","stringify","message","copySourceFiles","outputFolder","args","walkerOptions","followLinks","filters","excludeFiles","Promise","resolve","reject","walker","VIGRootFolder","on","root","fileStats","next","relOutputFolder","relative","sourceFile","name","folder","dirname","existsSync","mkdirSync","endsWith","minify","output","beautify","preamble","sourceMap","compress","code","map","statSync","isDirectory","includes","basename","flag","dirStatsArray","targetFolder","nodeStatsArray","console","copyResourceFiles","folders","mkdirs","copyDirSync","err","setPlatform","outputfolder","undefined","options","platform","settingsFile","updateReleaseConfiture","devicesFile","set","call","sn","debug","getHostDefaultAttrs","getReleaseTempFolder","tmpDir","tmpdir","useTmpFolder","mkdirsSync","clearReleaseTempFolder","emptyDirSync","getCurrentVersion","version","updateVersion","oldVer","newVer","calcProjectMD5","hashFiles","md5Value","file","sync","hash","createHash","update","digest","toLowerCase","generateVersionFiles","newVersion","date","Date","md5","pakcageReleaseFiles","sourceFolder","archive","archiver","zlib","level","outputFile","createWriteStream","pipe","pointer","directory","finalize","inProjectFolder","rel","startsWith","module","exports","vorpal","command","option","types","string","validate","outpathFolder","zip","defaultOutputFolder","target","host","action","callback","series","copySourceCode","full","curVer","String","results"],"mappings":"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"}