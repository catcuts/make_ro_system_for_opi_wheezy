/*ã€€China Fujian Huanyutong Technology Co., Ltd. */
const hprose=require("hprose"),monitorUrl="http://127.0.0.1:7001";module.exports=function(t){t.command("ping","ping current main process").option("-c, --count <count>","default:5").action(async function(t,n){let o=new hprose.HttpClient(monitorUrl,["ping"]),e=parseInt(t.options.count||5);this.log("Ping "+String(e)+" times");try{let t=async()=>{try{let t=await o.ping();this.log("Answer:",t)}catch(t){this.log("Error:"+t.message)}};for(let n=0;n<e;n++)await t(),await new Promise((t,n)=>{setTimeout(()=>t(),1e3)})}catch(t){this.log("VIGServer may not be running,cannot read mode")}})};