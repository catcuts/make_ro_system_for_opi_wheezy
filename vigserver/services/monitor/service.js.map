{"version":3,"sources":["0"],"names":["ServiceBase","require","hprose","VIMPErrors","TransactionManager","DeviceEventCodes","DeviceTransactionResult","RPCServiceMethods","ping","process","pid","log","level","message","logger","_log","progress","async","tid","value","result","debug","_","params","String","tobj","get","node","actor","trigger","addNode","abort","Error","end","Complete","Progressing","VIGateway","triggerEvent","code","DeviceTransaction","payload","restart","VIServer","reset","discover","mode","UpgradeService","[object Object]","force","isUpgrading","this","RPCClient","isUpdating","UnsupportedError","cancelUpdate","queryStartTime","Date","getTime","timeout","Promise","resolve","reject","waitUpgradeFree","setTimeout","e","intervalQuery","info","update","status","FailError","HostMonitor","pin","shift","publishSubjectMessage","includes","module","name","JSON","stringify","attrs","R","keys","join","VIGServices","modules","map","service","getServices","VIGApps","app","getApp","VIGDevices","getDeviceType","devicetype","listenOn","monitorUrl","RPCServer","Server","addFunction","onGPIO","onDiscover","onNotice","onMode","onGet","start","error","HttpClient","on","warn","notice","createRpcServer","createRpcClient","close","waitForReady","call","exports"],"mappings":"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"}