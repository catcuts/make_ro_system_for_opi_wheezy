/*ã€€China Fujian Huanyutong Technology Co., Ltd. */
const fs=require("fs-extra"),path=require("path"),{isClass:isClass}=require("utils/typecheck");function getResourceFromFolder(e){let r=[],s=function(t){if(fs.existsSync(t)){let i=fs.readdirSync(t);for(let o of i){let i=path.join(t,o);if(fs.statSync(i).isDirectory())s(i);else if(o.endsWith(".js"))try{let s=require(i),o=path.relative(e,t);Array.isArray(s)||(s=[s]);for(let e of s)Array.isArray(e)||(e=[e]),e.forEach(e=>{isClass(e)?r.push({url:o,view:new e}):"function"==typeof e&&r.push({url:o,view:e})})}catch(e){logger.warn(_("Cannot import web view module <{name}>:{err}").params(i,e.message))}}}};return s(e),r}module.exports={getResourceFromFolder:getResourceFromFolder};