/*ã€€China Fujian Huanyutong Technology Co., Ltd. */
const ReportMessage=async function(e={}){return Object.assign({type:"vigateway",timestamp:(new Date).getTime(),domain:VIGateway.attrs.domain,model:VIGateway.attrs.model,sn:VIGateway.sn,timeZone:VIGateway.timeZone,charSet:VIGateway.attrs.charSet,interface:0,mac:VIGPlatform.mac,location:VIGateway.attrs.location.label||"",long:VIGateway.attrs.location.longitude||0,lati:VIGateway.attrs.location.latitude||0},{ip:e.address,subnetMask:e.netmask,gateway:e.gateway,dhcp:void 0!==e.dhcp&&e.dhcp,dns:e.dns})},ConfigMessage=function({cmd:e=0,sid:a=0,sn:s="",payload:r={}}={}){return{cmd:e,sid:a,sn:s,timesnamp:(new Date).getTime(),payload:r}};function AnswerMessage({code:e=200,to:a="",message:s="",sid:r=0,...t}={}){return{to:a,code:e,sid:r,message:s,timesnamp:(new Date).getTime(),payload:t}}function ErrorMessage({sid:e=0,to:a="",message:s="",...r}={}){return AnswerMessage({code:500,to:a,sid:e,message:s,...r})}function NoImplementErrorMessage({sid:e=0,to:a="",...s}={}){return AnswerMessage({code:500,to:a,sid:e,message:"NoImplement",...s})}function ParamErrorMessage({sid:e=0,to:a="",...s}={}){return AnswerMessage({code:500,to:a,sid:e,message:"Lost of parameter",...s})}function serialize(e){try{return Buffer.from(JSON.stringify(e))}catch(e){logger.debug(_("Error while serialize message:").params(e.stack))}}function deserialize(e){let a=null;try{a=JSON.parse(e)}catch(e){throw logger.debug(_("Error while deserialize received message:{err}").params(errorinfo)),new Error(errorinfo)}return a||{}}module.exports={serialize:serialize,deserialize:deserialize,ReportMessage:ReportMessage,ConfigMessage:ConfigMessage,AnswerMessage:AnswerMessage,ErrorMessage:ErrorMessage,NoImplementErrorMessage:NoImplementErrorMessage,ParamErrorMessage:ParamErrorMessage};