{"version":3,"sources":["0"],"names":["updateYamlFile","readYamlFile","require","path","fs","queryJson","StorageDocument","async","getStorageDocument","name","doc","open","normalizeVersion","ver","String","major","minor","revision","split","undefined","compareVersion","ver1","ver2","major2","minor2","revision2","parseInt","syncVersionInfo","existsSync","join","VIGConsts","VIGRootFolder","curVer","newVer","VIGStorage","openDocument","findOne","__host__","version","e","logger","warn","_","update","$set","Folders","initdata","debug","params","updateVersion","DataRootFolder","console","log","message","addVersion","add","getCurrentVersion","verfile","verinfo","devices","json","module","exports"],"mappings":"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"}